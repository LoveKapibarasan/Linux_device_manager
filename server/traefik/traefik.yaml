api:
  dashboard: true

providers:
  docker:
    exposedByDefault: false
  file:
    directory: /etc/traefik/dynamic

entryPoints:
  web:
    address: ":80"
  websecure:
    address: ":443"
    http:
      encodedCharacters:
        allowEncodedSlash: true
    transport:
      respondingTimeouts:
        readTimeout: 900s
        writeTimeout: 900s
        idleTimeout: 900s
    forwardedHeaders:
      trustedIPs:
        - "173.245.48.0/20"
        - "103.21.244.0/22"
        - "103.22.200.0/22"
        - "103.31.4.0/22"
        - "141.101.64.0/18"
        - "108.162.192.0/18"
        - "190.93.240.0/20"
        - "188.114.96.0/20"
        - "197.234.240.0/22"
        - "198.41.128.0/17"
        - "162.158.0.0/15"
        - "104.16.0.0/13"
        - "104.24.0.0/14"
        - "172.64.0.0/13"
        - "131.0.72.0/22"
        - "172.16.0.0/12"
        - "10.10.0.0/16"
  ws-port:
    address: ":8081"
  wss-port:
    address: ":8443"
  ssh-entry:
    address: ":2224"

certificatesResolvers:
  le:
    acme:
      dnsChallenge:
        provider: cloudflare
      email: "${CF_API_EMAIL}"
      storage: "/letsencrypt/acme.json"

accessLog:
  filePath: "/logs/access.log"
  format: json
  fields:
    names:
      ClientAddr: keep